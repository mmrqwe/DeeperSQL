# DeeperSQL ソフトウェア詳細チュートリアル
## 言語切り替え
[English](README.md)

## チュートリアル内容
* 1. ソフトウェア紹介
* 2. インストールと起動
* 3. 主な機能
* 4. 操作手順
* 5. FAQ
* 6. お問い合わせとサポート

## 1. ソフトウェア紹介
DeeperSQLは、Excelスマートインタラクション、ナレッジグラフ構築、AI Q&A、データ可視化などを統合した多機能ツールです。データ編集・分析、ナレッジマネジメント、スマートQ&Aなど、さまざまなシナリオに適しています。
* Excelファイルをインポート後、自然言語で処理・エクスポートできます。
* データ可視化分析用の組み込みグラフコンポーネント
* 大規模言語モデルを介してナレッジグラフを構築し、インテリジェントなQ&Aが可能
* クロスプラットフォーム対応 (Windows/macOS)

## 2. インストールと起動
### 2.1 システム要件
* オペレーティングシステム：Windows 10/11 または macOS
* 依存関係：.NET 8.0 以降
### 2.2 インストール手順
1. 最新のインストールパッケージをダウンロードします。
2. .NETコンポーネントのサポート、オンライン/オフライン大規模モデルおよび組み込みモデルのサポートを確認してください。
3. `DeeperSQL` メインプログラムを実行します。
### 2.3 ソフトウェアの起動
1. 実行可能ファイルをダブルクリックします。
2. 初回起動時は、適切な動作を確保するために大規模言語モデルの設定を行ってください。

## 3. 主な機能
### 3.1 Excel スマートインタラクション
Excelファイルをインポート後、データベースに保存し、自然言語を使用して処理、分析、エクスポートできます。
### 3.2 ナレッジグラフ
ナレッジグラフのノード、リレーションシップ、コミュニティの自動生成、表示、クエリをサポートします。ソフトウェアは大規模言語モデルを使用してナレッジグラフを自動生成します。
### 3.3 AI Q&A
AI Q&Aモジュールは、さまざまな大規模言語モデルとの統合をサポートします。ユーザーは自然言語を使用して質問し、生成されたナレッジグラフを選択してQ&Aを行うことができます。
### 3.4 データ分析
インポートされたExcelファイルは、データベースに保存された後、分析および可視化できます。
### 3.5 APIサービス
SQLインテリジェントインタラクション用のAPIサービスを提供します。

## 4. 操作手順
### 4.1 設定
1. メインインターフェースで「設定」をクリックし、「Setting」を選択します。
2. 設定インターフェースが表示されたら、LLMタブをクリックし、一般的なモデルプロバイダーを選択し、APIアドレスを入力し、必要に応じてAPIキーを入力し、対応するモデルを選択します。
3. 1分あたりのAPI呼び出し回数とトークン制限に適切な値を入力します。オンラインAPIの制限は通常低く(10～30)、トークン制限は少なくとも4096、通常は10240未満である必要があります(実際の状況に応じて調整してください)。
4. 次に、組み込みモデルのAPIアドレスとAPIキーを入力し、対応するモデルを選択します。ローカルモデルでlocalhostが機能しない場合は、127.0.0.1を試してください。
5. モデルの読み込みに問題がある場合は、ポップアップが表示されます。モデルが正しく読み込まれることを確認してください。
6. 「SQLリクエストにサンプルデータを使用する」をオンにすると、データベーステーブルの最初の行のデータがサンプルデータとして使用されます。プライバシーや機密性が懸念される場合は、ローカルLLMを使用するか、このオプションをオフにしてください。
7. 「原文インデックスを使用する」をオンにすると、トークンの使用量が増加しますが、検索精度が向上します。
### 4.2 ナレッジグラフの作成
1. メインインターフェースでナレッジベースをクリックし、ナレッジベースのサブアイテムを選択します。
2. ナレッジベースインターフェースの左側にあるツリーコントロールでノードを選択し、右クリックします。
3. 選択ボックスが表示されたら、「グループを追加」をクリックし、グループ名を入力して「確認」をクリックします。
4. 追加後、プロパティコントロールでグループをクリックし、上部のメニューバーで「追加」をクリックして、追加するファイルを選択します。
5. ナレッジグラフの生成が完了するまで辛抱強く待ちます。エラーが発生しなければ、作成は成功です。
6. ナレッジベースインターフェースの左側にあるツリーコントロールでノードを選択し、右クリックします。選択ボックスが表示されたら、「グループをインポート」または「グループをエクスポート」をクリックします。
### 4.3 ナレッジグラフの管理
1. メインインターフェースでナレッジベースをクリックし、ナレッジベースのサブアイテムを選択します。
2. ナレッジベースインターフェースの左側にあるツリーコントロールでノードを選択し、右クリックします。
3. 選択ボックスが表示されたら、「グループを削除」、「グループをインポート」、または「グループをエクスポート」をクリックしてこれらの機能を実行します。
4. デフォルトノードを選択し、メニューバーの「テンプレート」をクリックして「いいね」データベースをエクスポートするか、「インポート」をクリックしてインポートします。「編集」または「削除」をクリックして、特定の「いいね」コンテンツを変更または削除します。
### 4.4 ナレッジグラフの表示
1. ナレッジグラフ管理インターフェースで、ナレッジベースを選択し、「ナレッジグラフ」ボタンをクリックします。
2. ナレッジグラフ表示インターフェースに入ったら、それぞれのノードまたはエッジをクリックし、「表示」ボタンをクリックして対応するデータを表示します。
3. 検索コンテンツを入力し、Enterキーを押すと、対応する検索結果が表示されます。
### 4.5 Excelファイルの追加
1. 「ファイル」メニューを選択し、「開く」をクリックして、Excelファイルを選択します。
2. インポートが成功したら、「データベース」をクリックし、データベース名を入力して「保存」をクリックします。(注意：Excelシートの最初の行は、データベーステーブルのフィールド名として自動的に認識されます)
3. 保存したデータベースをクリックし、「読み込み」をクリックしてデータベースを現在のテーブルに読み込みます。
### 4.6 データベーステーブルの編集
1. Excelファイルを開くかデータベースを読み込んだ後、「編集」メニューで「コピー、貼り付け、元に戻す、やり直し、列の追加、行の追加」などの機能を選択できます。
2. テーブルをクリックして右クリックし、対応する機能を選択します。
3. メニューバーのテーブルアイテム(例：sheet1)をクリックして、データベーステーブルアイテムを作成、削除、または名前変更します。
### 4.7 統計分析
1. データベースを読み込んだ後、メインインターフェースの「統計」ボタンをクリックして、「データベース統計」ページに入ります。
2. 分析したいデータベースとテーブルを選択します。
3. 分析するフィールドを選択し、「分析」ボタンをクリックして、分析結果を表示します。「エクスポート」をクリックして分析結果をエクスポートします。
### 4.8 Excel スマートインタラクション
1. Excelファイルを追加してデータベースを保存した後、このデータベースを読み込みます。
2. メインインターフェースの右下に自然言語で質問を入力し、「生成」ボタンをクリックします。
3. LLM処理後、ダイアログボックスが自動的に表示されます。生成されたSQLが実行可能であることを確認し、「実行」をクリックして結果を生成します。(複数の結果を生成することをサポートします。例：月ごとに12の結果を生成する)
4. 「エクスポート」をクリックし、フォルダを選択して結果をExcelテーブルとしてエクスポートします。「いいね」ボタンをクリックしてローカルデータベースにフィードバックを提供し(データはアップロードされません)、ソフトウェアがより正確な結果を生成するのに役立ちます。
### 4.9 AI会話
1. 「ナレッジベース」メニューを選択し、「チャット」をクリックします。
2. 左側のナレッジベースツリーをクリックせずに、入力ボックスに質問を入力し、「チャットを開始」ボタンをクリックして、結果が生成されるのを待ちます。
3. 左側のナレッジベースツリーをクリックして対応するナレッジベースを読み込み、入力ボックスに質問を入力し、「チャットを開始」をクリックして結果を待ちます。結果が生成されたら、「参照」または「履歴」をクリックして関連コンテンツを表示します。
### 4.10 APIサービス
* /api/SQL/List データベースリストを取得
* /api/SQL/Tables 指定されたデータベースのテーブルリストを取得 パラメータ：dbname
* /api/SQL/TableInfo テーブル構造と行数を取得 パラメータ：dbname, tablename
* /api/SQL/Get ページごとにテーブルデータを取得 パラメータ：dbname, tablename, start, num
* /api/SQL/Chat SQLインテリジェントQ&A パラメータ：dbname, content
* /api/SQL/Do SQLステートメントを実行 パラメータ：dbname, content
* /api/status サービスステータス

## 5. FAQ
### Q1：起動時にエラーが発生した場合はどうすればよいですか？
**A1：** .NET環境がインストールされているか確認するか、詳細なエラー情報についてはログファイルを参照してください。
### Q2：Excelファイルのインポートまたはデータベースの作成でエラーが発生した場合はどうすればよいですか？
**A2：** Excelファイルの最初の行にデータベースのフィールド名が含まれていること、およびExcelデータの形式が正しいことを確認してください。たとえば、データベーステーブルの日付フィールドは「2025-12-30」の形式である必要があります。
### Q3：モデルの読み込みでエラーが発生した場合はどうすればよいですか？
**A3：** まず、モデルアドレスが正しいかどうかを確認します。APIキーが必要な場合は、正しいAPIキーを入力したことを確認してください。http/httpsプレフィックスが正しいか、ネットワークが正常であるかなどを確認してください。アドレスを変更した後、ソフトウェアを再起動してテストしてください。
### Q4：AI会話でエラーが発生した場合はどうすればよいですか？
**A4：**
1. モデルアドレス、APIキーなどが正しいことを確認してください。
2. ネットワークが正常であることを確認してください。
3. ローカルモデルの場合、モデルサービスが正しく実行されていることを確認してください。
4. オンラインモデルの場合、APIキーが正しいことを確認してください。
5. トークン制限、1分あたりのAPI呼び出し制限などが正しいこと(高すぎず、低すぎないこと)を確認してください。

## 6. お問い合わせとサポート
ご質問やご提案がございましたら、開発チームまでご連絡ください。
* メール：deepersql@hotmail.com
